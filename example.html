<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Free email provider check</title>
	</head>
	<body>
		<form action="#" method="&#39;POST" accept-charset="utf-8">
			<input type="email" name="email" value="" class="email-freeprovider-check" id="email">
			<input type="submit" name="submit" value="Submit" class="submit-email-check" id="submit">
		</form>
		<div class="error">
			
		</div>
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  	<script>
  		var unallowedEmails = [
  		"gmail.com", 
  		"mail.com", 
  		"yahoo.com", 
  		"yahoo.co.uk", 
  		"onmicrosoft.com",
		"hotmail.com", 
		"outlook.com", 
		"icloud.com", 
		"yandex.mail", 
		"zohomail.eu", 
		"protonmail.com", 
		"protonmail.ch", 
		"hey.com"]
		
		var regex = new RegExp('\\b' + unallowedEmails.join("\\b|\\b") + '\\b', 'i');

		$(function () {
  			$(".email-freeprovider-check").on("change", function () {
  				
    			if(!regex.test(this.value)){
    				$('.submit-email-check').removeAttr('disabled');
    				$('.free-mail-error').hide();
    				
    			}else{ 
    				$('.submit-email-check').attr('disabled', 'disabled'); 
    				
    				$(".email-freeprovider-check").after('<span class="free-mail-error">Please enter a valid email address.</span>');
    			}
  			});
		});
		
  	</script>
</body></html>